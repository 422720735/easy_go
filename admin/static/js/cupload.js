!function(s,l){$("body").click(function(t){"amplify-box"!==t.target.className&&"amplify-close"!==t.target.className||($(".wrapper").css({display:"block"}),$(".amplify-box").remove())});var t=function t(i){if(!(this instanceof t))return new t(i);this.localValue={ele:"#cupload",name:"image",num:1,width:148,height:148},this.opt=this.extend(this.localValue,i,!0),this.i=0,this.imageBox=new Array,this.imagePreview=new Array,this.imageInput=new Array,this.imageDelete=new Array,this.deleteBtn=new Array,this.amplify=new Array,"string"==typeof i.ele?this.opt.ele=l.querySelector(i.ele):this.opt.ele=i.ele,this.initDom()};t.prototype={constructor:this,initDom:function(){this.cteateImageList(),this.createUploadBox(),this.opt.data&&this.showImagePreview()},extend:function(t,i,e){for(var s in i)!i.hasOwnProperty(s)||t.hasOwnProperty(s)&&!e||(t[s]=i[s]);return t},cteateImageList:function(){this.imageList=l.createElement("ul"),this.imageList.className="cupload-image-list",this.imageList.style.margin=0,this.imageList.style.padding=0,this.imageList.style.display="inline",this.imageList.style.verticalAlign="top",this.imageList.style.minHeight=this.opt.height,this.opt.ele.appendChild(this.imageList)},createUploadBox:function(){this.uploadBox=l.createElement("div"),this.uploadBox.className="cupload-upload-box",this.uploadBox.style.position="relative",this.uploadBox.style.display="inline-block",this.uploadBox.style.textAlign="center",this.uploadBox.style.backgroundColor="#fbfdff",this.uploadBox.style.border="1px dashed #c0ccda",this.uploadBox.style.borderRadius="6px",this.uploadBox.style.WebkitBoxSizing="border-box",this.uploadBox.style.boxSizing="border-box",this.uploadBox.style.width=this.opt.width+"px",this.uploadBox.style.height=this.opt.height+"px",this.uploadBox.style.lineHeight=this.opt.height-2+"px",this.opt.ele.appendChild(this.uploadBox),this.createUploadBtn(),this.createUploadInput();var t=this;this.uploadBox.onmouseover=function(){t.uploadBox.style.borderColor="#409eff"},this.uploadBox.onmouseout=function(){t.uploadBox.style.borderColor="#c0ccda"}},createUploadBtn:function(){this.uploadBtn=l.createElement("span"),this.uploadBtn.className="cupload-upload-btn",this.uploadBtn.style.fontSize="28px",this.uploadBtn.style.color="#8c939d",this.uploadBtn.innerHTML="+",this.uploadBox.appendChild(this.uploadBtn)},createUploadInput:function(){this.uploadInput=l.createElement("input"),this.uploadInput.className="cupload-upload-input",this.uploadInput.style.position="absolute",this.uploadInput.style.top=0,this.uploadInput.style.right=0,this.uploadInput.style.width="100%",this.uploadInput.style.height="100%",this.uploadInput.style.opacity=0,this.uploadInput.style.cursor="pointer",this.uploadInput.type="file",this.uploadInput.multiple="multiple",this.uploadInput.accept="image/*",this.uploadInput.title="",this.uploadBox.appendChild(this.uploadInput);var t=this;this.uploadInput.onchange=function(){t.removeUploadBox(),t.uploadImage()}},uploadImage:function(){var i=this.uploadInput.files[0];if(s.qiniuyun=i,this.createUploadBox(),!i||this.limitedSize(i))return!1;var t=new FileReader,e=this;t.onload=function(t){e.limitedWidthAndHeight(t.target.result,i.name)},t.readAsDataURL(i)},limitedSize:function(t){return this.opt.minSize&&t.size<1024*this.opt.minSize?(alert("图片大小未到最小限制"),!0):this.opt.maxSize&&t.size>1024*this.opt.maxSize?(alert("图片大小超出最大限制"),!0):!!(this.opt.limitedSize&&t.size>1024*this.opt.limitedSize)&&(alert("图片大小不符合要求"),!0)},limitedWidthAndHeight:function(t,i){var e=new Image;e.src=t;var s=this;e.onload=function(){return s.opt.minWidth&&this.width<s.opt.minWidth?(alert("图片宽度未到最小限制"),!1):s.opt.minHeight&&this.height<s.opt.minHeight?(alert("图片高度未到最小限制"),!1):s.opt.maxWidth&&this.width>s.opt.maxWidth?(alert("图片宽度超出最大限制"),!1):s.opt.maxHeight&&this.height>s.opt.maxHeight?(alert("图片高度超出最大限制"),!1):s.opt.limitedWidth&&this.width!=s.opt.limitedWidth?(alert("图片宽度不符合要求"),!1):s.opt.limitedHeight&&this.height!=s.opt.limitedHeight?(alert("图片高度不符合要求"),!1):void s.foreachNum(t,i,this.width,this.height)}},foreachNum:function(t,i,e,s){this.createImageBox(t,i,e,s),this.imageList.children.length>=this.opt.num&&this.removeUploadBox()},createImageBox:function(t,i,e,s){var h=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];this.imageBox[this.i]=l.createElement("li"),this.imageBox[this.i].className="cupload-image-box",this.imageBox[this.i].style.position="relative",this.imageBox[this.i].style.display="inline-block",this.imageBox[this.i].style.margin="0 8px 8px 0",this.imageBox[this.i].style.backgroundColor="#fbfdff",this.imageBox[this.i].style.border="1px solid #c0ccda",this.imageBox[this.i].style.borderRadius="6px",this.imageBox[this.i].style.WebkitBoxSizing="border-box",this.imageBox[this.i].style.boxSizing="border-box",this.imageBox[this.i].style.width=this.opt.width+"px",this.imageBox[this.i].style.height=this.opt.height+"px",this.imageList.appendChild(this.imageBox[this.i]),this.createImagePreview(t,e,s),this.createImageInput(t),this.createImageDelete(i),h||this.setDefaultImage();for(var a=this,o=0;o<=this.i;o++)this.imageBox[o].index=o,this.imageBox[o].onmouseover=function(t){return function(){a.showImageDelete(t)}}(o),this.imageBox[o].onmouseout=function(t){return function(){a.hideImageDelete(t)}}(o);this.i++},createImagePreview:function(t,i,e){this.imagePreview[this.i]=l.createElement("img"),this.imagePreview[this.i].className="cupload-image-preview",this.imagePreview[this.i].style.position="absolute",this.imagePreview[this.i].style.top=0,this.imagePreview[this.i].style.left=0,this.imagePreview[this.i].style.right=0,this.imagePreview[this.i].style.bottom=0,this.imagePreview[this.i].style.margin="auto",this.imagePreview[this.i].src=t,this.setImageAttribute(i,e),this.imageBox[this.i].appendChild(this.imagePreview[this.i])},createImageInput:function(t){this.imageInput[this.i]=l.createElement("input"),this.imageInput[this.i].type="hidden",this.imageInput[this.i].name=this.opt.name+"[]",this.imageInput[this.i].value=t,this.imageBox[this.i].appendChild(this.imageInput[this.i])},createImageDelete:function(t){this.imageDelete[this.i]=l.createElement("div"),this.imageDelete[this.i].className="cupload-image-delete",this.imageDelete[this.i].style.position="absolute",this.imageDelete[this.i].style.width="100%",this.imageDelete[this.i].style.height="100%",this.imageDelete[this.i].style.left=0,this.imageDelete[this.i].style.top=0,this.imageDelete[this.i].style.textAlign="center",this.imageDelete[this.i].style.color="#fff",this.imageDelete[this.i].style.opacity=0,this.imageDelete[this.i].style.backgroundColor="rgba(0,0,0,.5)",this.imageDelete[this.i].style.WebkitTransition=".3s",this.imageDelete[this.i].style.transition=".3s",this.imageDelete[this.i].title=t,this.imageBox[this.i].appendChild(this.imageDelete[this.i]),this.createDeleteBtn(),this.createAmplifyBtn()},createDeleteBtn:function(){this.deleteBtn[this.i]=l.createElement("span"),this.deleteBtn[this.i].className="cupload-delete-btn",this.deleteBtn[this.i].style.position="absolute",this.deleteBtn[this.i].style.top="50%",this.deleteBtn[this.i].style.left="50%",this.deleteBtn[this.i].style.marginTop="-12px",this.deleteBtn[this.i].style.marginLeft="-152px",this.deleteBtn[this.i].style.cursor="pointer",this.imageDelete[this.i].appendChild(this.deleteBtn[this.i]);for(var i=this,t=0;t<=this.i;t++)this.deleteBtn[t].onclick=function(t){return function(){i.deleteImage(t)}}(t)},createAmplifyBtn:function(){this.amplify[this.i]=l.createElement("span"),this.amplify[this.i].className="cupload-image-amplify",this.amplify[this.i].style.position="absolute",this.amplify[this.i].style.top="50%",this.amplify[this.i].style.left="50%",this.amplify[this.i].style.marginTop="-12px",this.amplify[this.i].style.marginLeft="128px",this.amplify[this.i].style.cursor="pointer",this.imageDelete[this.i].appendChild(this.amplify[this.i]);for(var i=this,t=0;t<=this.i;t++)this.amplify[t].onclick=function(t){return function(){i.amplifyImage(t)}}(t)},setDefaultImage:function(){this.imageBox[this.i].style.backgroundColor="black",this.imageDelete[this.i].title="图片不存在",this.imagePreview[this.i].src="data:image/png;base64,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",130/this.opt.width>105/this.opt.height?(this.imagePreview[this.i].style.width=this.opt.width-2+"px",this.imagePreview[this.i].style.height=105/(130/this.opt.width)-2+"px"):(this.imagePreview[this.i].style.width=130/(105/this.opt.height)-2+"px",this.imagePreview[this.i].style.height=this.opt.height-2+"px")},setImageAttribute:function(t,i){t/this.opt.width>i/this.opt.height?(this.imagePreview[this.i].style.width=this.opt.width-2+"px",this.imagePreview[this.i].style.height=i/(t/this.opt.width)-2+"px"):(this.imagePreview[this.i].style.width=t/(i/this.opt.height)-2+"px",this.imagePreview[this.i].style.height=this.opt.height-2+"px")},showImagePreview:function(){var t=this.opt.data;t.length>=this.opt.num&&this.removeUploadBox();var i=this,e=new Image;e.src=t[this.i],e.onload=function(){i.createImageBox(t[i.i],t[i.i],this.width,this.height),setTimeout(function(){t[i.i]&&i.showImagePreview()},0)},e.onerror=function(){i.createImageBox(t[i.i],t[i.i],0,0,!1),setTimeout(function(){t[i.i]&&i.showImagePreview()},0)}},deleteImage:function(t){this.imageBox[t].remove(),this.removeUploadBox(),this.imageList.children.length<this.opt.num&&this.createUploadBox()},amplifyImage:function(t){$(".wrapper").css({display:"none"});var i=l.createElement("div");i.className="amplify-box",i.style.width="100%",i.style.height="100%",i.style.position="fixed",i.style.zIndex="9999999",i.style.left=0,i.style.top=0,i.style.backgroundColor="rgba(0,0,0, 1)";var e=l.createElement("img");e.src=this.imageInput[t].value?this.imageInput[t].value:"data:image/png;base64,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",e.style.height="auto",e.style.position="fixed",e.style.zIndex="2000",e.style.left="50%",e.style.top="50%",e.style.transform="translateX(-50%) translateY(-50%)";var s=l.createElement("div");s.className="amplify-close",s.style.cursor="pointer",$(i).append(s),$(i).prepend(e),$("body").prepend(i)},removeUploadBox:function(){this.uploadBox.remove()},showImageDelete:function(t){this.imageDelete[t].style.opacity=1;var i=this.imageDelete[t].childNodes[0],e=this.imageDelete[t].childNodes[1];i.style.marginLeft="-35px",e.style.marginLeft="10px",e.style.marginLeft="10px"},hideImageDelete:function(t){this.imageDelete[t].style.opacity=0;var i=this.imageDelete[t].childNodes[0],e=this.imageDelete[t].childNodes[1];i.style.marginLeft="-152px",e.style.marginLeft="128px"}},s.Cupload=t}(window,document);